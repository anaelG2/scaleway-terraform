{
  "version": 4,
  "terraform_version": "1.1.4",
  "serial": 16,
  "lineage": "7ba85acc-11da-7de1-e5af-915437f4b1a5",
  "outputs": {
    "webserver-node-1-ip": {
      "value": "51.158.126.103",
      "type": "string"
    },
    "webserver-node-2-ip": {
      "value": "163.172.143.76",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "local_file",
      "name": "create-ansible-inventory",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "[webserver_nodes]\r\nwebserver-node-1 ansible_host=51.158.126.103 ansible_user=root ansible_ssh_private_key_file=/home/anaelg/.ssh/id_rsa_projetannuel ansible_python_interpreter=/usr/bin/python3\r\nwebserver-node-2 ansible_host=163.172.143.76 ansible_user=root ansible_ssh_private_key_file=/home/anaelg/.ssh/id_rsa_projetannuel ansible_python_interpreter=/usr/bin/python3\r\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "../hosts",
            "id": "c7b8d3a61d4e4e07e7d6e2ca4580b6c8a2c49276",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "scaleway_instance_ip.public_ip_1",
            "scaleway_instance_ip.public_ip_2",
            "scaleway_instance_security_group.www",
            "scaleway_instance_server.webserver-node-1",
            "scaleway_instance_server.webserver-node-2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_account_ssh_key",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "c0c7ab01-b327-4762-8880-961a14ec0a20",
            "name": "main",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDOB/UqmPhWAcfzKyFbLeZMQsbBVF9tJJfpUHuDbfQUqqEN1fzT7JSIWk/C+kSyuE0TVTbzMd88CCyowKIPDzYJoPvx3QToSn72eX9GTAl4lM+IAx3Rw9AacYIPr2kxdVLzWdHRB8tgpe3ZmZtlFQSQVc69RQszBn6FzdY96Sqkv9gh977CcejXtYIRF2qEYE24BphGXZgJoBaKWnYm6Fj8hB2fy0dBr+gQ2HtkjRgNSJ52/UvDnNuv7jE50mBHYmwxiY/J9r6M+Va/BPsrYwcjyteyHBfPOq1vaUFBflC60+cG2D4VtW7SbV9lwZhDYi5ppxyLNcMCIzNmyWQDBxQ7oRS67T5qwCAk/oSZhNq2jf5gSnJ6mOg+6vl7pdiMY+7xTUJZAuMPvNJbd6m0ntySbJdxXeqdyaytH/CZoASJQwumYdzmsjAEAe/+l4Mrs8puSUyMzRbCc1Jdg7OlawW8AWU5sbVBdbU9imunTF81eba6FaN+wOiKi1+iV4cbJo0= anaelg@DELL-XPS",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVmYXVsdCI6NjAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_instance_ip",
      "name": "public_ip_1",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address": "51.158.126.103",
            "id": "fr-par-1/0b538251-b897-4dd5-b431-e159ba8954cf",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "reverse": "",
            "server_id": "",
            "tags": null,
            "timeouts": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVmYXVsdCI6NjAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_instance_ip",
      "name": "public_ip_2",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address": "163.172.143.76",
            "id": "fr-par-1/833c84b6-e525-4880-a6de-0718cdb2d7b4",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "reverse": "",
            "server_id": "",
            "tags": null,
            "timeouts": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVmYXVsdCI6NjAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_instance_security_group",
      "name": "www",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "enable_default_security": true,
            "external_rules": false,
            "id": "fr-par-1/0f31ef5b-c216-4dae-8e71-9384851fc400",
            "inbound_default_policy": "accept",
            "inbound_rule": [],
            "name": "security-group",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "outbound_default_policy": "accept",
            "outbound_rule": [],
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "stateful": true,
            "tags": null,
            "timeouts": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVmYXVsdCI6NjAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_instance_server",
      "name": "webserver-node-1",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_volume_ids": null,
            "boot_type": "local",
            "bootscript_id": "fdfe150f-a870-4ce4-b432-9f56b5b995c1",
            "cloud_init": null,
            "enable_dynamic_ip": false,
            "enable_ipv6": false,
            "id": "fr-par-1/4d00dca4-29ae-40c2-8e32-2a922f35efe3",
            "image": "debian_bullseye",
            "ip_id": "fr-par-1/0b538251-b897-4dd5-b431-e159ba8954cf",
            "ipv6_address": "",
            "ipv6_gateway": "",
            "ipv6_prefix_length": 0,
            "name": "webserver-node-1",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "placement_group_id": null,
            "placement_group_policy_respected": null,
            "private_ip": "10.69.70.101",
            "private_network": [],
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "public_ip": "51.158.126.103",
            "root_volume": [
              {
                "boot": false,
                "delete_on_termination": true,
                "size_in_gb": 20,
                "volume_id": "fr-par-1/2296a7ad-eb8f-4c98-91ac-3eeb511796f9",
                "volume_type": "l_ssd"
              }
            ],
            "security_group_id": "fr-par-1/0f31ef5b-c216-4dae-8e71-9384851fc400",
            "state": "started",
            "tags": [
              "node",
              "webserver",
              "projet-annuel"
            ],
            "timeouts": null,
            "type": "DEV1-S",
            "user_data": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "scaleway_instance_ip.public_ip_1",
            "scaleway_instance_security_group.www"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_instance_server",
      "name": "webserver-node-2",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_volume_ids": null,
            "boot_type": "local",
            "bootscript_id": "fdfe150f-a870-4ce4-b432-9f56b5b995c1",
            "cloud_init": null,
            "enable_dynamic_ip": false,
            "enable_ipv6": false,
            "id": "fr-par-1/ba94646c-1283-41e4-a1e8-d4a3fff7294e",
            "image": "debian_bullseye",
            "ip_id": "fr-par-1/833c84b6-e525-4880-a6de-0718cdb2d7b4",
            "ipv6_address": "",
            "ipv6_gateway": "",
            "ipv6_prefix_length": 0,
            "name": "webserver-node-2",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "placement_group_id": null,
            "placement_group_policy_respected": null,
            "private_ip": "10.74.118.65",
            "private_network": [],
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "public_ip": "163.172.143.76",
            "root_volume": [
              {
                "boot": false,
                "delete_on_termination": true,
                "size_in_gb": 20,
                "volume_id": "fr-par-1/148d793b-b4ce-4d13-8ca2-29368e2976cd",
                "volume_type": "l_ssd"
              }
            ],
            "security_group_id": "fr-par-1/0f31ef5b-c216-4dae-8e71-9384851fc400",
            "state": "started",
            "tags": [
              "node",
              "webserver",
              "projet-annuel"
            ],
            "timeouts": null,
            "type": "DEV1-S",
            "user_data": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "scaleway_instance_ip.public_ip_2",
            "scaleway_instance_security_group.www"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_lb",
      "name": "loadbalancer",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "fr-par-1/538a99b5-ef37-40f9-9567-b3c66c0d25b2",
            "ip_address": "51.158.57.49",
            "ip_id": "fr-par-1/3f9b2f4d-d673-415a-8f56-c28bcace3fd6",
            "name": "loadbalancer",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "private_network": [],
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "region": "fr-par",
            "release_ip": false,
            "tags": null,
            "timeouts": null,
            "type": "LB-S",
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "scaleway_lb_ip.loadbalancer-ip"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_lb_ip",
      "name": "loadbalancer-ip",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "fr-par-1/3f9b2f4d-d673-415a-8f56-c28bcace3fd6",
            "ip_address": "51.158.57.49",
            "lb_id": "",
            "organization_id": "765bc772-2569-4f98-ad6e-063bf2a0d6ef",
            "project_id": "6f2db06c-78f0-4b7b-8ec0-ffda407257b1",
            "region": "fr-par",
            "reverse": "51-158-57-49.lb.fr-par.scw.cloud",
            "timeouts": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    }
  ]
}
